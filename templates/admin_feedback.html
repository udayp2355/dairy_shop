{% extends "admin_base.html" %} {% block title %}View Feedback{% endblock %} {%
block content %}
<div class="content-header">
  <h2>Customer Feedback</h2>
</div>
<table class="data-table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Message</th>
      <th>Date</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for feedback in feedbacks %}
    <tr>
      <td>{{ feedback.name }}</td>
      <td>{{ feedback.email }}</td>
      <td>{{ feedback.message[:100] }}{% if feedback.message|length > 100 %}...{% endif %}</td>
      <td>{{ feedback.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
      <td class="action-buttons">
        <form method="POST" action="{{ url_for('feedback.delete_feedback', feedback_id=feedback.id) }}" style="display: inline;">
          <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this feedback?')">
            Delete
          </button>
        </form>
      </td>
    </tr>
    {% else %}
    <tr>
      <td colspan="5" style="text-align: center; padding: 20px; color: #666;">
        No feedback available
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
